{"id":"emacs-gravity-07j","title":"Navigation \u0026 search keybindings","description":"Add navigation keybindings: ]/[ next/prev turn, }/{ next/prev tool, S-TAB collapse/expand all sections, G jump to latest turn, depth-level toggles (1/2/3) to control section expansion depth.","status":"open","priority":2,"issue_type":"feature","owner":"georgi.danov@gmail.com","created_at":"2026-02-05T14:41:30.405241+01:00","created_by":"gdanov","updated_at":"2026-02-05T14:41:30.405241+01:00"}
{"id":"emacs-gravity-1q4","title":"Move collapse indicator to assistant text, remove blank line before tool summary","description":"Visual fix for response-cycle sections. Currently the magit-section collapse indicator (\u003e) appears on the 'N tools' summary line, and there's an extra blank line between assistant text and the tool summary. The desired behavior is: (1) collapse indicator on the first line of assistant text, (2) no blank line between assistant text and tool summary, (3) 'N tools' becomes part of the section body, not the heading.","status":"in_progress","priority":2,"issue_type":"bug","owner":"georgi.danov@gmail.com","created_at":"2026-02-05T22:53:24.803253+01:00","created_by":"gdanov","updated_at":"2026-02-05T23:03:46.321483+01:00"}
{"id":"emacs-gravity-1x7","title":"Notification system","description":"Display all non-reset notifications as timestamped entries in the UI. Distinguish severity levels. Surface status bar updates and progress events. Extract progress information from notification events.","status":"open","priority":2,"issue_type":"feature","owner":"georgi.danov@gmail.com","created_at":"2026-02-05T14:41:53.787005+01:00","created_by":"gdanov","updated_at":"2026-02-05T14:41:53.787005+01:00"}
{"id":"emacs-gravity-2qd","title":"Auto-parse agent transcripts","description":"On SubagentStop, automatically parse the agent transcript file and show key stats (tool count, files touched, duration) without requiring the user to press RET to view.","status":"open","priority":3,"issue_type":"feature","owner":"georgi.danov@gmail.com","created_at":"2026-02-05T14:42:02.812826+01:00","created_by":"gdanov","updated_at":"2026-02-05T14:42:02.812826+01:00"}
{"id":"emacs-gravity-31q","title":"Incremental buffer updates","description":"Replace current full erase-buffer + redraw approach with tracked section updates. Only re-render sections that changed. Will improve performance for long sessions with many tools/turns.","status":"open","priority":3,"issue_type":"feature","owner":"georgi.danov@gmail.com","created_at":"2026-02-05T14:42:34.016236+01:00","created_by":"gdanov","updated_at":"2026-02-05T14:42:34.016236+01:00"}
{"id":"emacs-gravity-3jt","title":"Tool timing display","description":"Record timestamps on PreToolUse and PostToolUse events. Calculate and show duration per tool invocation in the UI (e.g. '2.3s' next to tool name).","status":"open","priority":2,"issue_type":"feature","owner":"georgi.danov@gmail.com","created_at":"2026-02-05T14:41:25.881891+01:00","created_by":"gdanov","updated_at":"2026-02-05T14:41:25.881891+01:00"}
{"id":"emacs-gravity-3wu","title":"Markdown tables rendered as raw text in gravity UI","description":"Tables in stream-json output (e.g. event type reference tables in plan documents) are displayed as raw markdown pipe-delimited text instead of being rendered as formatted tables in the gravity magit-section UI. Affects any section that displays markdown content containing tables.","status":"open","priority":3,"issue_type":"bug","owner":"georgi.danov@gmail.com","created_at":"2026-02-05T23:23:12.642973+01:00","created_by":"gdanov","updated_at":"2026-02-05T23:23:24.003017+01:00"}
{"id":"emacs-gravity-3wy","title":"Register PreCompact hook","description":"Register the PreCompact hook to track compaction events. Warn the user when context is being compacted. Optionally preserve pre-compact state or snapshot. Add to hooks.json, bridge, and elisp.","status":"open","priority":3,"issue_type":"task","owner":"georgi.danov@gmail.com","created_at":"2026-02-05T14:42:41.71675+01:00","created_by":"gdanov","updated_at":"2026-02-05T14:42:41.71675+01:00"}
{"id":"emacs-gravity-6gz","title":"Restore session state on restart","description":"Restore from json files when Emacs restarts mid-activity. Agent state is persisted to .claude/emacs-bridge-agents.json â€” use this plus any session state files to rebuild the gravity buffer on restart.","status":"open","priority":3,"issue_type":"feature","owner":"georgi.danov@gmail.com","created_at":"2026-02-05T14:41:10.663656+01:00","created_by":"gdanov","updated_at":"2026-02-05T14:41:10.663656+01:00"}
{"id":"emacs-gravity-8e1","title":"Bidirectional communication for AskUserQuestion","description":"Answer AskUserQuestion from Emacs and send prompts to Claude Code. PermissionRequest bidirectional flow already works as a model. Extend the same Unix socket response pattern to support answering questions and injecting prompts.","status":"open","priority":2,"issue_type":"feature","owner":"georgi.danov@gmail.com","created_at":"2026-02-05T14:42:28.043411+01:00","created_by":"gdanov","updated_at":"2026-02-05T14:42:28.043411+01:00"}
{"id":"emacs-gravity-8t6","title":"Session persistence","description":"Serialize full session state to file (beyond just agent state). Restore session view on Emacs startup including tool history, turns, tasks, and agent data. Complements the restart-restore feature.","status":"open","priority":2,"issue_type":"feature","owner":"georgi.danov@gmail.com","created_at":"2026-02-05T14:42:31.037059+01:00","created_by":"gdanov","updated_at":"2026-02-05T14:42:31.037059+01:00"}
{"id":"emacs-gravity-8vr","title":"Task dependency tracking in UI","description":"Bridge already parses blockedBy/blocks/owner/metadata from TaskCreate/TaskUpdate events but the elisp side doesn't store or display this information. Add dependency visualization showing which tasks block others.","status":"open","priority":3,"issue_type":"feature","owner":"georgi.danov@gmail.com","created_at":"2026-02-05T14:42:25.10311+01:00","created_by":"gdanov","updated_at":"2026-02-05T14:42:25.10311+01:00"}
{"id":"emacs-gravity-93c","title":"Error/failure visualization","description":"Failed tools currently show as 'done' with no distinction from successful tools. Add: error status tracking, red face/failure icon, inline error excerpt, n/p keybindings to jump between errors. Requires PostToolUseFailure hook to be registered first.","status":"open","priority":1,"issue_type":"feature","owner":"georgi.danov@gmail.com","created_at":"2026-02-05T14:41:22.736264+01:00","created_by":"gdanov","updated_at":"2026-02-05T14:41:22.736264+01:00","dependencies":[{"issue_id":"emacs-gravity-93c","depends_on_id":"emacs-gravity-tnc","type":"blocks","created_at":"2026-02-05T14:45:47.451648+01:00","created_by":"gdanov"}]}
{"id":"emacs-gravity-buv","title":"Token usage extraction in bridge","description":"Extract message.usage from transcript JSONL files in the bridge. Aggregate per-turn token totals (input/output/cache). Forward to elisp for display in session header. Required before status bar info display can work.","status":"open","priority":2,"issue_type":"task","owner":"georgi.danov@gmail.com","created_at":"2026-02-05T14:42:44.765476+01:00","created_by":"gdanov","updated_at":"2026-02-05T14:42:44.765476+01:00"}
{"id":"emacs-gravity-bxz","title":"Tool usage statistics","description":"Aggregate view showing: total tools by type, average duration per tool type, file touch frequency (most read/edited files). Could be a separate section or transient popup.","status":"open","priority":3,"issue_type":"feature","owner":"georgi.danov@gmail.com","created_at":"2026-02-05T14:41:59.791342+01:00","created_by":"gdanov","updated_at":"2026-02-05T14:41:59.791342+01:00"}
{"id":"emacs-gravity-cux","title":"Permission requested indicator","description":"Show explicit 'permission requested' marker on tools that needed permission approval. Distinguish auto-allowed tools from those that required user interaction.","status":"open","priority":3,"issue_type":"feature","owner":"georgi.danov@gmail.com","created_at":"2026-02-05T14:41:16.967667+01:00","created_by":"gdanov","updated_at":"2026-02-05T14:41:16.967667+01:00"}
{"id":"emacs-gravity-cz6","title":"Claude status bar info in session","description":"Show status bar info (tokens used, cost, model name) in session status header. Requires token usage extraction from transcript JSONL to be implemented first.","status":"open","priority":2,"issue_type":"feature","owner":"georgi.danov@gmail.com","created_at":"2026-02-05T14:41:51.036708+01:00","created_by":"gdanov","updated_at":"2026-02-05T14:41:51.036708+01:00","dependencies":[{"issue_id":"emacs-gravity-cz6","depends_on_id":"emacs-gravity-buv","type":"blocks","created_at":"2026-02-05T14:45:47.812291+01:00","created_by":"gdanov"}]}
{"id":"emacs-gravity-efo","title":"Session source/resume tracking","description":"Use SessionStart source field and SessionEnd reason field for lifecycle visibility. Show whether session was fresh start vs resume, and why it ended (user stop, error, completion). Display model and git_branch from session metadata.","status":"open","priority":3,"issue_type":"feature","owner":"georgi.danov@gmail.com","created_at":"2026-02-05T14:41:56.85343+01:00","created_by":"gdanov","updated_at":"2026-02-05T14:41:56.85343+01:00"}
{"id":"emacs-gravity-fs3","title":"Show more agent details","description":"Expand agent state display beyond current type/status/ID/duration. Show model used, token count, tool breakdown, and other metadata available in SubagentStart/Stop events.","status":"open","priority":4,"issue_type":"feature","owner":"georgi.danov@gmail.com","created_at":"2026-02-05T14:42:05.625339+01:00","created_by":"gdanov","updated_at":"2026-02-05T14:42:05.625339+01:00"}
{"id":"emacs-gravity-fz9","title":"Permission mode display","description":"Show permission_mode in session header (e.g. 'plan', 'auto-edit', 'default'). Track and display mode transitions in the session timeline.","status":"open","priority":3,"issue_type":"feature","owner":"georgi.danov@gmail.com","created_at":"2026-02-05T14:41:48.163191+01:00","created_by":"gdanov","updated_at":"2026-02-05T14:41:48.163191+01:00"}
{"id":"emacs-gravity-gim","title":"Fix AskUserQuestion as turn","description":"AskUserQuestion is currently treated as a prompt but not as a turn in Tool Usage section. Should appear properly in the turn-based view. Also experiment with rendering tool usage as a sub-section of the prompt that triggered it.","status":"open","priority":2,"issue_type":"bug","owner":"georgi.danov@gmail.com","created_at":"2026-02-05T14:41:19.803923+01:00","created_by":"gdanov","updated_at":"2026-02-05T14:41:19.803923+01:00"}
{"id":"emacs-gravity-php","title":"Show Edit tool inline diffs","description":"Render old_string/new_string with diff-mode faces in the gravity buffer. Data already arrives via the bridge in PostToolUse events but elisp currently discards it. Show added/removed lines with diff-added/diff-removed faces.","status":"open","priority":2,"issue_type":"feature","owner":"georgi.danov@gmail.com","created_at":"2026-02-05T14:41:14.078768+01:00","created_by":"gdanov","updated_at":"2026-02-05T14:41:14.078768+01:00"}
{"id":"emacs-gravity-tnc","title":"Register PostToolUseFailure hook","description":"Register the PostToolUseFailure hook in hooks.json, create the shell script in emacs-bridge/hooks/, add bridge handler in index.ts, and add elisp handler in claude-gravity.el. This is required before error/failure visualization can work.","status":"open","priority":1,"issue_type":"task","owner":"georgi.danov@gmail.com","created_at":"2026-02-05T14:42:37.530702+01:00","created_by":"gdanov","updated_at":"2026-02-05T14:42:37.530702+01:00"}
